# Spark

## 0. intro

### 0-1. spark란?

* 고속 범용 분산 컴퓨팅 플랫폼

* 장점

  * 파이썬, 자바, 스칼라, R 등의 다양한 언어를 지원해서 사용자를 광범위하게 포용할 수 있음

  * 하둡의 맵리듀스 보다 10~100배 빠르고 맵리듀스의 주요기능 대부분 대체 가능

  * 대량의 노드에 분산된 데이터를 참조할 수 있음

  * 분산 데이터의 실제 위치를 사용자에게 노출하지 않고도 적절히 추상화할 수 있음
  
  * 일괄 처리 작업이나 데이터 마이닝 같은 온라인 분석 처리(OLAP) 작업에는 적합
  
  * 잡에 필요한 데이터를 디스크에서 매번 가져오는 대신 데이터를 메모리에 캐시로 저장하는 **인메모리 실행모델**임

* 단점
  * 단일 머신으로 충분히 다룰 수 있는 데이터셋의 연산에는 사용하지 않는 것이 좋음
  * 대량의 원자성 트랜잭션을 빠르게 처리해야 하는 작업에는 스파크가 적합하지 않음

---

### 0-2. 스파크를 구성하는 컴포넌트

1. 스파크 코어

⭐`RDD(Resilient Distributed Dataset)`

   - 스파크api의 핵심 요소
   - 분산 데이터 컬렉션을 추상화한 객체
   - 데이터셋에 적용할 수 있는 연산 및 변환 메서드를 함께 제공
   - 노드에 장애가 발생해도 데이터 셋을 재구성할 수 있는 복원성을 갖춤
   -  HDFS, GlusterFS, AWS S3 등 다양한 파일 시스템에 접근 가능



2. 스파크 SQL

* JSON, Parquet파일, 관계형 데이터베이스 테이블, 하이브 테이블 등 다양한 정형 데이터를 읽고 쓰는데 사용 가능
* dataframe과 dataset에 적용된 연산을 일정 시점에 RDD연산으로 변환해 스파크 잡으로 실행



3. 스파크 스트리밍

* 다양한 데이터 소스에서 유입되는 실시간 스트리밍 데이터 처리
* HDFS, Kafka, apache flume, twitter, ZeroMQ
* 장애가 발생하면 연산 결과를 자동으로 복구함
* **이산스트림**(DStream) 방식으로 스트리밍 데이터를 표현하는데 가장 마지막 타임 윈도 안에 유입된 데이터를 RDD로 구성해 주기적으로 생성



4. 스파크 MLlib

* 머신러닝 알고리즘 라이브러리



5. 스파크 GrapgX

* 그래프 RDD 형태의 그래프 구조를 만들 수 있는 다양한 기능을 제공 

